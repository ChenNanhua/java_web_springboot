<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" class="no-js" lang="en">

<head>
    <meta charset="utf-8">
    <title>Shop</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- All CSS Files -->
    <!-- Bootstrap fremwork main css -->
    <link rel="stylesheet" th:href="@{css/shop/bootstrap.min.css}">
    <!-- Nivo-slider css -->
    <link rel="stylesheet" th:href="@{lib/css/nivo-slider.css}">
    <!-- This core.css file contents all plugings css file. -->
    <link rel="stylesheet" th:href="@{css/shop/core.css}">
    <!-- Theme shortcodes/elements style -->
    <link rel="stylesheet" th:href="@{css/shop/shortcode/shortcodes.css}">
    <!-- Theme main style -->
    <link rel="stylesheet" th:href="@{css/shop/style.css}">
    <!-- Responsive css -->
    <link rel="stylesheet" th:href="@{css/shop/responsive.css}">
    <!-- User style -->
    <link rel="stylesheet" th:href="@{css/shop/custom.css}">
    <!-- Style customizer (Remove these two lines please) -->
    <link rel="stylesheet" th:href="@{css/shop/style-customizer.css}">
    <!-- Modernizr JS -->
    <script th:src="@{js/shop/vendor/modernizr-2.8.3.min.js}"></script>
</head>

<body>
<!--[if lt IE 8]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
    your browser</a> to improve your experience.</p>
<![endif]-->

<!-- Body main wrapper start -->
<div class="wrapper">
    <!-- START HEADER AREA 导航栏一-->
    <header class="header-area header-wrapper">
        <!-- header-middle-area -->
        <div id="sticky-header" class="header-middle-area plr-185">
            <div class="container-fluid">
                <div class="full-width-mega-dropdown">
                    <div class="row">
                        <!-- logo -->
                        <div class="col-md-4 col-sm-6 col-xs-12 f-right">
                            <div class="logo">
                                <a style="margin: 0 10px" href="index.html"
                                   th:text="${session.loginName}" th:if="#{!strings.isEmpty(session.loginName)}">
                                    登录用户的姓名
                                </a>
                                <!--button ${session.loginName == null?'':'display: none'} 判断是否登录了，选择性显示按钮-->
                                <a th:href="@{register}" th:style="${session.loginName == null?'':'display: none'}">
                                    <button type="button" class="btn btn-outline-primary me-2">注册</button>
                                </a>
                                <a th:href="@{logout}" th:style="${session.loginName == null}?'display: none':''">
                                    <button type="button" class="btn btn-danger me-2">注销</button>
                                </a>
                                <a th:href="@{login}" th:style="${session.loginName == null?'':'display: none'}">
                                    <button type="button" class="btn btn-primary">登录</button>
                                </a>
                            </div>
                        </div>
                        <!-- primary-menu -->
                        <div class="col-md-8 hidden-sm hidden-xs">
                            <nav id="primary-menu">
                                <ul class="main-menu text-center">
                                    <li><a href="index.html">商城</a></li>
                                    <li><a th:href="@{/orderList}">历史订单</a></li>
                                    <li>
                                        <!-- total-cart 购物车按钮-->
                                        <div class="total-cart total-cart-2">
                                            <div class="total-cart-in">
                                                <div class="cart-toggler">
                                                    <a href="#">
                                                        <span class="cart-quantity"
                                                              th:text="${shopCarPhones==null?'00':shopCarPhones.size()}">0</span>
                                                        <br>
                                                        <span class="cart-icon">
                                                            <i class="zmdi zmdi-shopping-cart-plus"></i>
                                                        </span>
                                                    </a>
                                                </div>
                                                <!-- total-cart 购物车界面-->
                                                <ul>
                                                    <li>
                                                        <div class="top-cart-inner your-cart">
                                                            <h5 class="text-capitalize">购物车</h5>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="total-cart-pro">
                                                            <!-- single-cart 单条商品信息-->
                                                            <div class="single-cart clearfix" th:each="shopCarPhone:${shopCarPhones}">
                                                                <div class="cart-img f-left">
                                                                    <a href="#">
                                                                        <img width="90px" height="90px"
                                                                             th:src="${'img/'+shopCarPhone.getName()+'.jpg'}" alt="手机图片"/>
                                                                    </a>
                                                                    <div class="del-icon">
                                                                        <a th:href="${'index?delete=true&phoneId='+shopCarPhone.getPhoneId()}">
                                                                            <i class="zmdi zmdi-close"></i>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                                <div class="cart-info f-left">
                                                                    <h6 class="text-capitalize">
                                                                        <a href="#" th:text="${shopCarPhone.getName()}">手机名</a>
                                                                    </h6>
                                                                    <p>
                                                                        <span th:text="${'数量 : '+shopCarPhone.getNumber()}">数量:</span>
                                                                    </p>
                                                                    <p>
                                                                        <span th:text="${'Type : '+shopCarPhone.getType()}">Type:</span>
                                                                    </p>
                                                                </div>
                                                            </div>
                                                            <!-- single-cart -->
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="top-cart-inner subtotal">
                                                            <h4 class="text-uppercase g-font-2">
                                                                总价 =
                                                                <span th:text="${'￥ '+totalPrice}" th:if="${totalPrice!=null}"></span>
                                                            </h4>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="top-cart-inner check-out">
                                                            <h4 class="text-uppercase">
                                                                <a th:href="@{/settle}">结算</a>
                                                            </h4>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- END MOBILE MENU AREA -->

    <!-- BREADCRUMBS SETCTION START 导航栏二-->
    <header class="breadcrumbs-section plr-200 mb-80">
        <div class="breadcrumbs overlay-bg">
            <div class="container">
                <div class="row">
                    <div class="col-xs-12">
                        <div class="breadcrumbs-inner">
                            <h1 class="breadcrumbs-title">商品界面</h1>
                            <ul class="breadcrumb-list">
                                <li style="color: red" th:text="${'Tips:'+msg}" th:if="${msg!=null}"></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- BREADCRUMBS SETCTION END -->

    <!-- Start page content 主界面-->
    <div id="page-content" class="page-wrapper">
        <!-- SHOP SECTION START -->
        <div class="shop-section mb-80">
            <div class="container">
                <div class="row">
                    <div class="col-md-9 col-md-push-3 col-sm-12">
                        <div class="shop-content">
                            <!-- Tab Content start -->
                            <div class="tab-content">
                                <!-- list-view 商品展示栏-->
                                <div role="tabpanel" class="tab-pane active" id="list-view">
                                    <div class="row">
                                        <!-- product-item start -->
                                        <div class="col-md-12" th:each="phone:${phones}">
                                            <div class="shop-list product-item box-shadow">
                                                <div class="product-img">
                                                    <a href="#">
                                                        <img th:src="${'img/'+phone.getName()+'.jpg'}" alt="手机图片展示">
                                                    </a>
                                                </div>
                                                <div class="product-info">
                                                    <div class="clearfix">
                                                        <h3 class="product-title f-left" th:text="${phone.getName()}">
                                                            手机名字</h3>
                                                    </div>
                                                    <h6 class="brand-name mb-30"
                                                        th:text="${'品牌：'+phone.getBrandName()}">品牌</h6>
                                                    <h3 class="pro-price" th:text="${'￥ '+ phone.getPrice()}">价格</h3>
                                                    <p th:text="${phone.getType()}"></p>
                                                    <ul class="action-button">
                                                        <li>
                                                            <a href="#" title="Wishlist"><i
                                                                    class="zmdi zmdi-favorite"></i></a>
                                                        </li>
                                                        <li>
                                                            <a th:id="${phone.getPhoneId()}"
                                                               th:data-target="${'#productModal'+phone.getPhoneId()}"
                                                               href="#" data-toggle="modal" title="详细信息">
                                                                <i class="zmdi zmdi-zoom-in"></i>
                                                            </a>
                                                        </li>
                                                        <li>
                                                            <a href="#" data-toggle="modal" title="加入购物车"
                                                               th:data-target="${'#productModal'+phone.getPhoneId()}">
                                                                <i class="zmdi zmdi-shopping-cart-plus"></i>
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- product-item end -->
                                    </div>
                                </div>
                            </div>
                            <!-- Tab Content end -->
                        </div>
                    </div>
                    <!--左侧分类和最近浏览-->
                    <div class="col-md-3 col-md-pull-9 col-sm-12">
                        <!-- widget-categories 左侧分类-->
                        <aside class="widget widget-categories box-shadow mb-30">
                            <h6 class="widget-title border-left mb-20">类别</h6>
                            <div id="cat-treeview" class="product-cat">
                                <ul>
                                    <li class="open"><a href="#">分类</a>
                                        <ul>
                                            <li><a th:href="@{index}">全部</a></li>
                                        </ul>
                                    </li>
                                    <li class="open"><a href="#">品牌</a>
                                        <ul>
                                            <li th:each="brand:${brands}"><a th:href="${'index?brandName='+
                                            brand.get('brandName')}" th:text="${brand.get('brandName')}">品牌名</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        </aside>
                        <!-- widget-product 最近浏览-->
                        <aside class="widget widget-product box-shadow mb-30">
                            <h6 class="widget-title border-left mb-20">最近浏览</h6>
                            <!-- product-item start -->
                            <div class="product-item" th:each="recentView:${recentViews}"
                                 th:style="${session.loginName == null}?'display: none':''">
                                <div class="product-img">
                                    <!--给最近浏览的手机添加弹窗-->
                                    <a th:id="${recentView.getPhoneId()}"
                                       th:data-target="${'#productModal'+recentView.getPhoneId()}"
                                       href="#" data-toggle="modal" title="详细信息">
                                        <img th:src="${'img/'+recentView.getName()+'.jpg'}" alt="手机图片">
                                    </a>
                                </div>
                                <div class="product-info">
                                    <h6 class="product-title">
                                        <a th:id="${recentView.getPhoneId()}"
                                           th:data-target="${'#productModal'+recentView.getPhoneId()}"
                                           href="#" data-toggle="modal" title="详细信息" th:text="${recentView.getName()}">手机名称</a>
                                    </h6>
                                    <h3 class="pro-price" th:text="${'￥ '+recentView.getPrice()}">￥ 000.00</h3>
                                </div>
                            </div>
                            <!-- product-item end -->
                        </aside>
                        <!-- widget-product 推荐商品-->
                        <aside class="widget widget-product box-shadow mb-30">
                            <h6 class="widget-title border-left mb-20">推荐商品</h6>
                            <!-- product-item start -->
                            <div class="product-item" th:each="recommend:${recommends}"
                                 th:style="${session.loginName == null}?'display: none':''">
                                <div class="product-img">
                                    <!--给最近浏览的手机添加弹窗-->
                                    <a th:id="${recommend.getPhoneId()}"
                                       th:data-target="${'#productModal'+recommend.getPhoneId()}"
                                       href="#" data-toggle="modal" title="详细信息">
                                        <img th:src="${'img/'+recommend.getName()+'.jpg'}" alt="手机图片">
                                    </a>
                                </div>
                                <div class="product-info">
                                    <h6 class="product-title">
                                        <a th:id="${recommend.getPhoneId()}"
                                           th:data-target="${'#productModal'+recommend.getPhoneId()}"
                                           href="#" data-toggle="modal" title="详细信息" th:text="${recommend.getName()}">手机名称</a>
                                    </h6>
                                    <h3 class="pro-price" th:text="${'￥ '+recommend.getPrice()}">￥ 000.00</h3>
                                </div>
                            </div>
                            <!-- product-item end -->
                        </aside>
                    </div>
                </div>
            </div>
        </div>
        <!-- SHOP SECTION END -->
    </div>
    <!-- End page content -->

    <!-- START QUICKVIEW PRODUCT 弹窗页面-->
    <div id="quickview-wrapper" th:each="quickViewphone:${quickViewPhones}">
        <!-- Modal -->
        <div class="modal fade productModal" th:id="${'productModal'+quickViewphone.getPhoneId()}" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close" title="退出详细信息"><span
                                aria-hidden="true">&times;</span></button>
                    </div>
                    <div class="modal-body">
                        <div class="modal-product clearfix">
                            <div class="product-images">
                                <div class="main-image images">
                                    <img alt="图片展示" th:src="${'img/'+quickViewphone.getName()+'.jpg'}">
                                </div>
                            </div><!-- .product-images -->

                            <div class="product-info">
                                <h1>详细信息</h1>
                                <div class="s-price-box">
                                    <span class="new-price" th:text="${quickViewphone.getName()}">手机名</span>
                                </div>
                                <div class="s-price-box" style="border-bottom: 0">
                                    <span class="new-price" th:text="${'￥'+ quickViewphone.getPrice()}">价格</span>
                                </div>
                                <div class="quick-add-to-cart">
                                    <form method="get" class="cart" th:action="@{index}">
                                        <div class="numbers-row">
                                            <input type="number" id="french-hens" name="number" value="1">
                                        </div>
                                        <input type="hidden" name="phoneId" th:value="${quickViewphone.getPhoneId()}" >
                                        <button class="single_add_to_cart_button" type="submit">加入购物车</button>
                                    </form>
                                </div>
                                <div class="quick-desc" th:text="${quickViewphone.getType()}">
                                </div>
                            </div><!-- .product-info -->
                        </div><!-- .modal-product -->
                    </div><!-- .modal-body -->
                </div><!-- .modal-content -->
            </div><!-- .modal-dialog -->
        </div>
        <!-- END Modal -->
    </div>
    <!-- END QUICKVIEW PRODUCT -->
</div>
<!-- Body main wrapper end -->


<!-- Placed JS at the end of the document so the pages load faster -->
<script th:src="@{js/shop/vendor/jquery-3.1.1.min.js}"></script>
<!-- Bootstrap framework js -->
<script th:src="@{js/shop/bootstrap.min.js}"></script>
<!-- jquery.nivo.slider js -->
<script th:src="@{lib/js/jquery.nivo.slider.js}"></script>
<!-- All js plugins included in this file. -->
<script th:src="@{js/shop/plugins.js}"></script>
<!-- Main js file that contents all jQuery plugins activation. -->
<script th:src="@{js/shop/main.js}"></script>
<!-- 自定义的页面JS-->
<script th:src="@{js/index.js}"></script>
</body>
</html>
